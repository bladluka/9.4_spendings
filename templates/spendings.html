<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Wylistowanie wydatków i dodawanie nowego wydatku</title>
    <style>
        table, th, tr, td {border: 1px solid black;}
    </style>
</head>
<body>
 {% if errors %}
 <h2>Błąd!</h2>
 <ul>
    {% for error in errors %}
    <li>{{error}}</li>
    {% endfor %}
</ul>
 {% endif %}
 <h2>Lista wydatków</h2>
  <table>
      <thead>
      <th>Wydatek</th>
      <th>Kategoria</th>
      <th>Wartość</th>
      </thead>
      {% for spending in spendings %}
      <tr>
          <td>{{ spending.description }}</td>
          <td>{{ spending.category }}</td>
          <td>{{ spending.value }}</td>
          <td><a href="/spendings/{{ loop.index }}">Edytuj</td>
          <td><a href="/spendings/delete/{{ loop.index }}">Usuń</td>
      </tr>
      {% endfor %}
  </table>
 <h2>Dodaj nowy wydatek</h2>
 <form method="POST" action="/spendings/">
     {{ form.hidden_tag() }}
         <table>
             {% for field in form if field.widget.input_type != 'hidden' %}
                 <tr>
                     <th>{{ field.label }} {% if field.flags.required %}*{% endif %}</th>
                     <td>{{ field }}</td>
                 </tr>
             {% endfor %}
         </table><br>
         <input type="submit" value="Dodaj">
 </form>
</body>
</html>